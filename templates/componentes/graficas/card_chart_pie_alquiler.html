<div class="flex flex-col w-full bg-white rounded-lg shadow dark:bg-gray-800 p-4 md:p-6">
    <div class="flex justify-between mb-1">
        <div>
            <h5 class="leading-none text-3xl font-bold text-gray-900 dark:text-white pb-2">Consumo de Combustible</h5>
            <p class="text-base font-normal text-gray-500 dark:text-gray-400">Litros de combustible usados por día de la semana</p>
        </div>
    </div>
    <div id="chart-combustible-semana"></div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const data = JSON.parse('{{ chart_combustible_semana_json|escapejs }}');

    const categorias = data.labels; // Días de la semana
    const valores = data.series[0].data;

    const options = {
        series: [{
            name: "Litros",
            data: valores,
            color: "#16BDCA",
        }],
        chart: {
            type: "area",
            height: 320,
            fontFamily: "Inter, sans-serif",
            toolbar: { show: false },
        },
        xaxis: { categories: categorias, labels: { rotate: -45 } },
        yaxis: { labels: { formatter: val => val + " L" } },
        dataLabels: { enabled: false },
        stroke: { curve: 'smooth', width: 3 },
        fill: {
            type: "gradient",
            gradient: { shadeIntensity: 1, opacityFrom: 0.6, opacityTo: 0.1 }
        },
        tooltip: { y: { formatter: val => val + " litros" } }
    };

    const chart = new ApexCharts(document.getElementById("chart-combustible-semana"), options);
    chart.render();
});
</script>
