<div class="flex flex-col w-full bg-white rounded-lg shadow dark:bg-gray-800 p-4 md:p-6">
    <div class="flex justify-between mb-1">
        <div>
            <h5 class="leading-none text-3xl font-bold text-gray-900 dark:text-white pb-2">Kilometraje Total por Vehículo</h5>
            <p class="text-base font-normal text-gray-500 dark:text-gray-400">Kilometraje máximo registrado por cada vehículo</p>
        </div>
    </div>
    <div id="chart-kilometraje"></div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const data = JSON.parse('{{ chart_kilometraje_json|escapejs }}');

    const categorias = data.labels; // placas de vehículos
    const valores = data.series[0].data;

    const options = {
        series: [{
            name: "Kilometraje",
            data: valores,
            color: "#FF6347",
        }],
        chart: {
            height: 320,
            type: "bar",
            fontFamily: "Inter, sans-serif",
            toolbar: { show: false },
        },
        xaxis: { categories: categorias, labels: { rotate: -45 } },
        yaxis: { labels: { formatter: val => val } },
        dataLabels: { enabled: true },
        plotOptions: { bar: { borderRadius: 4, horizontal: false } },
        tooltip: { y: { formatter: val => val + " km" } },
    };

    const chart = new ApexCharts(document.getElementById("chart-kilometraje"), options);
    chart.render();
});
</script>
